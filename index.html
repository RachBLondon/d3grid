<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>D3 Grid</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.8/d3.min.js">
  </script>
</head>

<body>
  <svg class="container">
  </svg>
  <style>
    svg {
      height: 1000px;
      width: 1000px;
    }
  </style>
  <script>
    //function to create grid object
    function getRandom() {
      return Math.random();
    }

    function createData(num) {
      var answer = [];

      for (var i = 0; i < num; i++) {
        answer.push({
          i: i,
          d: getRandom()
        });
      }
      return answer;
    }
    var squarew = 50
    // createData(99);
    d3.select(".container").selectAll("rect")
      .data(createData(99))
      .enter()
      .append("rect")
      .attr("class", "square")
      .attr("height", squarew)
      .attr("width", squarew)
      .attr("fill", "red")
      .attr("display", "in-line")
      .attr("opacity", function(d) {
        return "opacity", d.d;
      })
      .attr("x", function(d, i) {
        return (i%10)*squarew;
         })
       .attr("y", function(d,i){
         return Math.floor(i/10)*squarew;
       });
  </script>
</body>

</html>
